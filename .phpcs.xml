<?xml version="1.0"?>
<ruleset name="Smolblog Core Standards" namespace="oddEvan\CapsuleUI">
	<description>Coding standards for the Capsule UI library.</description>

	<file>./src</file>

	<exclude-pattern>*/tests/*</exclude-pattern>
	<exclude-pattern>*/test-utils/*</exclude-pattern>
	<exclude-pattern>*/core-test-utils/*</exclude-pattern>

	<arg name="extensions" value="php"/>
	<arg name="tab-width" value="2"/>
	<arg name="colors"/>

	<ini name="memory_limit" value="64M"/>

	<autoload>./vendor/autoload.php</autoload>

	<!-- Use PSR-12 as our base -->
	<rule ref="PSR12">
		<exclude name="Generic.WhiteSpace.DisallowTabIndent"/>
		<exclude name="Generic.WhiteSpace.ScopeIndent"/>
		<exclude name="PSR2.Classes.ClassDeclaration.OpenBraceNewLine"/>
		<exclude name="Squiz.Functions.MultiLineFunctionDeclaration.BraceOnSameLine"/>
	</rule>

	<!-- It's my code and I say USE TABS. I will die on this hill... alone. Of old age. -->
	<rule ref="Generic.WhiteSpace.DisallowSpaceIndent"/>
	<rule ref="Generic.WhiteSpace.ScopeIndent">
		<properties>
			<property name="indent" value="2"/>
			<property name="tabIndent" value="true"/>
			<property name="ignoreIndentationTokens" type="array">
				<element value="T_COMMENT"/>
				<element value="T_DOC_COMMENT_OPEN_TAG"/>
			</property>
		</properties>
	</rule>

	<!-- Make structures look nicer -->
	<rule ref="Generic.Classes.OpeningBraceSameLine"/>
	<rule ref="Generic.Functions.OpeningFunctionBraceKernighanRitchie"/>
	<rule ref="SlevomatCodingStandard.Namespaces.AlphabeticallySortedUses"/>
</ruleset>